<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body class="bg-gradient-to-b from-gray-600 to-blue-700 h-screen">
    <nav class="font-mono bg-zinc-800 text-white">
        <p class="text-3xl p-2 text-center">Anime generator</p>
    </nav>

    <p class="font-sans text-4xl pt-3 text-center font-semibold">Siapakah waifu kamu!!!</p>

    <div class="flex justify-center items-center">
        <img class="" name="canvas" style="width:200px">
    </div>

    <div class="text-center">
        <h3 class="underline text-3xl" id="text"></h3>
    </div>

    <div id="modal" class="modal ">
        <div id="modal-content" class="modal-content">
            <h1 class="text-center p-4 font-semibold">Jangan banyak banyak waifu nya bang</h1>
            <p class="text-center" id="countdown"></p>
        </div>
    </div>

    <footer class="text-center fixed inset-x-0 bottom-0 p-4">
        <button type="button" onClick="displayImg()" value="Display Random Image"
            class="text-white bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-teal-300 dark:focus:ring-teal-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-0 w-full">Tekan</button>
    </footer>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script>
        var imgArr = ["adagaki.jpg", "bocchi.jpg", "erika.jpg", "kaguya.jpg", "kato.jpg", "mahiru.jpg", "mirai.jpg", "tsukasa.jpg", "yamada.jpg", "yukino.jpg"];
        var textArr = ["aki adagaki", "gotou hitori.", "amano erika", "shinomiya kaguya", "kato megumi", "shina mahiru", "mirai kuriyama", "yuzaki tsukasa", "anna yamada", "yukino yukinoshita"];

        var count = 0;
        var modal = document.querySelector('#modal');
        var modalContent = document.querySelector('#modal-content');

        var countdownElement = document.getElementById('countdown');
        var countdownTime = 30; // 5 seconds

        function startCountdown() {
            var countdownInterval = setInterval(function () {
                countdownTime--;

                var hours = Math.floor(countdownTime / 3600);
                var minutes = Math.floor((countdownTime % 3600) / 60);
                var seconds = countdownTime % 60;

                countdownElement.innerText = hours + ' jam ' + minutes + ' menit ' + seconds + ' detik';

                if (countdownTime <= 0) {
                    clearInterval(countdownInterval);
                    modal.style.display = 'none';
                    countdownElement.innerText = '';
                    count = 0;
                    countdownTime = 0 * 0 * 20; // reset countdownTime
                }
            }, 1000);
        }

        function displayImg() {
            var num = Math.floor(Math.random() * (imgArr.length));
            var textArrIndex = num % textArr.length;
            var tambahArrIndex = num % textArr.length;
            document.canvas.src = "img/" + imgArr[num];
            document.getElementById("text").innerHTML = textArr[textArrIndex];



            // Tambahkan kode berikut ini
            count++;
            if (count === 3) {
                modal.style.display = 'block';
                startCountdown(); // 5000 miliseconds = 5 detik
            }
        }
    </script>
</body>

</html>